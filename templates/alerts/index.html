<!--
File name:    index.html
Author:       Martin Dwyer
Date:         April 7, 2020
Description:  This file provides the default page for alerts, providing a listing of alerts for users after logging in
License:      The application is provide herein under the GNU General Public License, a free copyleft license for
              software.  A copy of this license has been provided in the root folder of this application.
-->

<!-- Extending base.html for sources, header, navigation bar, and footer -->
{% extends "base.html" %}

<!-- Content to appear in div with id block_content -->
{% block content %}

<!-- Page heading and sign out option -->
<div id="page-title">
    <h1>Alerts</h1>
    <div id="sign-out">
        <a class="btn btn-success" href="{{ url_for('users.logout_user') }}">Sign Out</a>
    </div>
    <div class="clear-float"></div>
</div>

<!-- List of alert items -->
<section>
    <div class="list-group mb3" style="margin-bottom: 30px;">
        {% for alert in alerts %}
        <div class="list-group-item">
            <h4>{{ alert.name }}</h4>
            <p>
                <a href="{{ alert.item.url }}">{{ alert.item_id }}</a><br>
                Last price ${{ alert.item.price }}<br>
                Alert price ${{ alert.price_limit }}
            </p>
            <a class="btn btn-secondary" style="width:75px;"
               href="{{ url_for('alerts.edit_alert',alert_id=alert._id) }}">
                Edit
            </a>
            <a class="btn btn-danger" style="width:75px;"
               href="{{ url_for('alerts.delete_alert',alert_id=alert._id) }}">
                Delete
            </a>
        </div>
        {% endfor %}

    </div>

    <!-- Option to create new alerts -->
    <a class="btn btn-success" href="{{ url_for('alerts.new_alert') }}">
        Create New
    </a>
</section>

{% endblock %}